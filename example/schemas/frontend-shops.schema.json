{
  "$schema": "https://raw.githubusercontent.com/juanisidoro/firestore-schema-viewer/main/schema/collection.schema.json",
  "collection": "frontend_shops",
  "description": "Stores synced from WooCommerce. Each document represents a shop with its configuration, members, and sync state.",
  "documentCount": 14,
  "schema": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "firestore://frontend_shops",
    "title": "FrontendShop",
    "description": "A synced shop document representing a WooCommerce store connected to the platform.",
    "type": "object",
    "properties": {
      "last_sync_date": {
        "type": "string",
        "description": "ISO 8601 timestamp of the last successful synchronization with WooCommerce",
        "format": "date-time"
      },
      "information": {
        "type": "object",
        "description": "Core shop configuration and ownership details",
        "properties": {
          "shopId": {
            "type": "string",
            "description": "Unique identifier matching the Firestore document ID"
          },
          "name": {
            "type": "string",
            "description": "Display name of the shop"
          },
          "description": {
            "type": "string",
            "description": "Short description of the shop"
          },
          "site_url": {
            "type": "string",
            "description": "WooCommerce store URL",
            "format": "uri"
          },
          "members": {
            "type": "array",
            "description": "Team members with access to this shop",
            "items": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "string",
                  "description": "Firebase Auth UID of the member"
                },
                "name": {
                  "type": "string",
                  "description": "Display name of the member"
                },
                "email": {
                  "type": "string",
                  "description": "Email address",
                  "format": "email"
                },
                "isOwner": {
                  "type": "boolean",
                  "description": "Whether this member is the shop owner",
                  "default": false
                },
                "mainUser": {
                  "type": "boolean",
                  "description": "Whether this is the primary user account",
                  "default": false
                },
                "notifications_enabled": {
                  "type": "boolean",
                  "description": "Whether push notifications are enabled for this member",
                  "default": true
                }
              },
              "required": ["userId", "email", "isOwner"]
            }
          }
        },
        "required": ["shopId", "site_url", "members"]
      },
      "stats": {
        "type": "object",
        "description": "Aggregated statistics for the shop (product counts, order totals, etc.)",
        "additionalProperties": true
      },
      "createdAt": {
        "type": "string",
        "description": "Document creation timestamp",
        "format": "date-time"
      },
      "updatedAt": {
        "type": "string",
        "description": "Last document update timestamp",
        "format": "date-time"
      }
    },
    "required": ["last_sync_date", "information", "createdAt"],
    "additionalProperties": false
  }
}
